<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Nutrition Dashboard</title>
  <link rel="stylesheet" href="NutritionistGrade.css"> <!-- Link to external CSS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart.js Library -->
</head>

<body>
  <h1>NutritionistGrade</h1>
  <table id="productTable">
    <tr>
      <th>Product Name</th>
      <th>Grade</th>
      <th>Protein Percentage</th>
      <th>Total Carbohydrate</th>
      <th>Calories Per Gram</th>
      <th>Actions</th>
    </tr>
    <!-- Predefined products -->
    <tr>
      <td>Carrot</td>
      <td></td>
      <td>12</td>
      <td>7</td>
      <td>40</td>
      <td>
        <button class="btn btn-edit" onclick="editRow(this)">Edit</button>
        <button class="btn btn-delete" onclick="deleteRow(this)">Delete</button>
      </td>
    </tr>
    <tr>
      <td>Capsicum</td>
      <td></td>
      <td>10</td>
      <td>6</td>
      <td>35</td>
      <td>
        <button class="btn btn-edit" onclick="editRow(this)">Edit</button>
        <button class="btn btn-delete" onclick="deleteRow(this)">Delete</button>
      </td>
    </tr>
    <tr>
      <td>Broccoli</td>
      <td></td>
      <td>14</td>
      <td>5</td>
      <td>45</td>
      <td>
        <button class="btn btn-edit" onclick="editRow(this)">Edit</button>
        <button class="btn btn-delete" onclick="deleteRow(this)">Delete</button>
      </td>
    </tr>
    <tr>
      <td>Spinach</td>
      <td></td>
      <td>11</td>
      <td>8</td>
      <td>30</td>
      <td>
        <button class="btn btn-edit" onclick="editRow(this)">Edit</button>
        <button class="btn btn-delete" onclick="deleteRow(this)">Delete</button>
      </td>
    </tr>
    <tr>
      <td>Cucumber</td>
      <td></td>
      <td>8</td>
      <td>7</td>
      <td>20</td>
      <td>
        <button class="btn btn-edit" onclick="editRow(this)">Edit</button>
        <button class="btn btn-delete" onclick="deleteRow(this)">Delete</button>
      </td>
    </tr>
  </table>
  <button onclick="addRow()">Add Row</button>

  <script>
    // Function to delete a row
    function deleteRow(button) {
      const row = button.parentElement.parentElement;
      row.remove();
    }

    // Function to edit a row
    function editRow(button) {
      const row = button.parentElement.parentElement;
      const cells = row.querySelectorAll("td:not(:last-child)");

      cells.forEach((cell, index) => {
        if (index !== 1) { // Skip the Grade column for editing
          const currentValue = cell.innerHTML;
          const input = document.createElement("input");
          input.type = "text";
          input.value = currentValue;
          cell.innerHTML = "";
          cell.appendChild(input);
        } else { // Allow editing of the Grade column
          const currentValue = cell.innerText;
          const input = document.createElement("select");
          const options = ["A", "B", "C", "D", "E"];
          options.forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.innerText = option;
            if (option === currentValue) {
              optionElement.selected = true;
            }
            input.appendChild(optionElement);
          });
          cell.innerHTML = "";
          cell.appendChild(input);
        }
      });

      button.innerHTML = "Save";
      button.onclick = function () {
        saveRow(this);
      };
    }

    // Function to save an edited row
    function saveRow(button) {
      const row = button.parentElement.parentElement;
      const inputs = row.querySelectorAll("td input, td select");

      inputs.forEach(input => {
        const cell = input.parentElement;
        cell.innerHTML = input.value;
      });

      button.innerHTML = "Edit";
      button.onclick = function () {
        editRow(this);
      };
    }

    // Function to add a new row
    function addRow() {
      const table = document.getElementById("productTable");
      const row = table.insertRow(-1);
      const cells = ["", "", "", "", "", ""];

      cells.forEach((_, index) => {
        const cell = row.insertCell(index);
        if (index === 5) {
          cell.innerHTML = `
            <button class="btn btn-edit" onclick="editRow(this)">Edit</button>
            <button class="btn btn-delete" onclick="deleteRow(this)">Delete</button>
          `;
        } else if (index === 1) { // Grade column
          const input = document.createElement("select");
          const options = ["A", "B", "C", "D", "E"];
          options.forEach(option => {
            const optionElement = document.createElement("option");
            optionElement.value = option;
            optionElement.innerText = option;
            input.appendChild(optionElement);
          });
          cell.appendChild(input);
        } else {
          cell.innerHTML = `<input type="text" placeholder="Enter value">`;
        }
      });
    }
  </script>
</body>

</html>